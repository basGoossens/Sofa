<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:insert="/general :: headerfiles"/>
    <title>Client View</title>
</head>
<body>

<div th:insert="/general :: header"/>

<h1>Hallo, <span th:text="${client.fullNameUser}"/></h1>
<div th:if="${username}">
    <p th:text="${username}"></p>
</div>
<div class="text-container">
    <div class="w3-container">
        <h7>Overzicht rekeningen</h7>
        <br><br>
        <div th:if="${nrPrivate} > 0">
            <h8>Particuliere rekeningen</h8>

            <table>
                <div class="table">
                <tr class="form-header">
                    <th>Rekeningnummer</th>
                    <th>Saldo</th>

                </tr>
                <tr th:each="Account : ${client.accounts} ">
                    <div th:unless="${Account.isBusinessAccount}">
                        <td><span th:text="${Account.iban}"/></td>
                        <td><span th:text="${Account.balance}"/></td>
                    </div>
                </tr>
                </div>
            </table>
            <br>

        </div>
        <br>
        <div th:if="${nrBusiness} != 0">
            <h8>Zakelijke rekeningen</h8>
            <table>
                <tr class="form-header">
                    <th>rekeningnummer</th>
                    <th>saldo</th>
                </tr>
                <tr th:each="Account : ${client.accounts}">
                    <div th:if="${Account.isBusinessAccount}">
                        <td><span th:text="${Account.iban}"/></td>
                        <td><span th:text="${Account.balance}"/></td>
                    </div>

                </tr>
            </table>
            <br>
        </div>
    </div>
        <div class="w3-container">

    <div class="selectaccount">
        <h8>Selecteer een rekening</h8>
        <form action="#" th:action="@{AccountListHandler}" th:object="${account}" method="post">
            <input type="submit" value="Ga naar rekening">
            <select th:field="*{id}">
                <option th:each="privateAccount : ${client.accounts}"
                        th:value="${privateAccount.id}"
                        th:text="${privateAccount.iban}">Wireframe
                </option>
            </select>
        </form>
        <form action="#" th:action="@{AddNewAccountHandler}" th:object="${client}" method="post">
            <input type="hidden" name="id" id="id" th:value="${client.id}">
            <input type="submit" value="Open nieuwe particuliere rekening"/>
        </form>
        <form action="#" th:action="@{AddNewBusinessAccountHandler}" th:object="${client}" method="post">
            <input type="hidden" name="id" id="idbusiness" th:value="${client.id}">
            <input type="submit" value="Open nieuwe zakelijke rekening"/>
        </form>
        <form action="#" th:action="@{updateHandler}" th:object="${client}" method="post">
            <p>Uw persoonlijke pagina</p>
            <input type="hidden" th:field="${client.id}" name="id">
            <input type="submit" value="gegevens beheren">
        </form>
        <form action="#" th:action="@{changeAddressForm}" method="post">
            <input type="hidden" th:value="${client.id}" name="clientId">
            <input type="hidden" th:value="${client.address.id}" name="addressId">
            <input type="submit" value="Adresswijziging doorgeven"/>
        </form>
        <div th:if="${connect}">
        <form action="#" th:action="@{NewConnection}" method="post">
            <input type="hidden" th:value="${connect.id}" name="id">
            <input type="submit" value="Koppel een nieuwe rekening">
        </form>
        </div>
    </div>

    </div>



</div>


</body>
</html>
