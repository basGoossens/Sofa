<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Dashboard Client</title>
    <link rel="stylesheet" type="text/css" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" type="text/css" th:href="@{/css/default.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/loggedIn.css}">
</head>
<body>

<div th:insert="/headertemplates :: header"/>

<div class="grid-container">
<h1>Rekening <span th:text="${account.Iban}"/></h1>
<h2>Saldo = &euro; <span th:text="${account.balance}"/></h2>

<!-- hier wordt een lijst met alle transacties ingeladen !-->
<h2>Transacties</h2>
<div th:unless="${#lists.isEmpty(account.transactions)}">
    <table>
        <tr>
            <td>naam</td>
            <td>bedrag</td>
            <td>debit rekening</td>
            <td>credit rekening</td>
        </tr>
        <tr th:each="transaction : ${account.transactions}">
            <td><span th:text="${transaction.description}"/></td>
            <td><span
                    th:text="${transaction.debitAccount.iban == account.iban} ? '- &euro; ' + ${transaction.amount} : '&euro; ' + ${transaction.amount}"/>
            </td>
            <td><span th:text="${transaction.debitAccount.getIban()}"/></td>
            <td><span th:text="${transaction.creditAccount.getIban()}"/></td>
        </tr>
    </table>
</div>
<br>
</div>

<!--betaalformulier! Nog te maken-->
<div>
    <form action="#" th:action="@{TransferHandler}" th:object="${account}" method="post">
        <input type=hidden th:field="${account.id}"/>
        <input type="submit" value="betaalopdracht"/>
    </form>
</div>


<!--terug-knop!-->
<div>
    <form action="#" th:action="@{backToOverview}" th:object="${account}" method="post">
        <input type=hidden th:field="${account.id}"/>
        <input type="submit" value="Terug naar overzicht"/>
        <!--    <input type="button" value="Terug naar overzicht" onClick="javascript:history.go(-1)" />-->
    </form>
</div>


</body>
</html>
